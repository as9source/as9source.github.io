# 躯体採寸システム 使い方マニュアル

## 📱 はじめに

このシステムは、外構工事の躯体採寸を簡単に行うためのツールです。
スマホやタブレットで現場での使用を想定しています。

---

## 🎯 基本的な流れ

### 1. **パターンを選ぶ**
### 2. **寸法を入力する**
### 3. **計算結果を確認する**
### 4. **保存・共有する**

---

## 📐 パターンの種類

### **I字パターン（一直線）**
```
━━━━━━━━━
```
- 最もシンプルな形
- 1本の辺のみ

---

### **左L字パターン（┌型）**
```
  |
  |
  +━━━
```
- 角が左上
- 辺A（縦）と辺B（横）の2本

---

### **右L字パターン（┐型）**
```
    |
    |
━━━+
```
- 角が右上
- 辺A（横）と辺B（縦）の2本

---

### **コの字パターン（⊓型）**
```
|     |
|     |
+━━━━+
```
- U字型の形
- 辺A、辺B、辺Cの3本

---

### **自由に線を引く**
- 自由な形を作図できる
- クリックで点を配置して線を引く
- 複雑な形状に対応

---

## ✏️ 寸法の入力方法

### **外法寸法**
- 各辺の長さを入力（mm単位）
- 実際に測った寸法をそのまま入力

### **躯体幅**
- 全ての辺に共通の幅を設定
- または、各辺ごとに個別に設定可能
- 「辺ごとに躯体幅を設定」にチェック → 個別設定

### **躯体高さ**
- 全体の高さを入力（mm単位）

---

## 🔴 点の種類について

システムには3種類の点があります：

### **🔴 赤（コーナー）**
- 2つの辺が接続する角
- 両側の辺の幅の半分ずつを引く
- 例：L字の角、コの字の角

### **🔵 青（エンド）**
- 辺の端点（壁なし）
- 段差がある場合に使用
- 隣接する辺の幅を引かない

### **🟢 緑（壁）**
- 壁や段差に接する点
- 隣接する辺の幅を引かない

---

## 📏 段差の設定方法

### **段差がある場合**

1. **「段差あり」にチェック**
   - 角の部分に表示される

2. **点の種類が変わる**
   - 1つ目：🔵 青（エンド）
   - 2つ目：🟢 緑（壁）

3. **深さを入力**
   - 段差の深さ（mm単位）

4. **チェックを外すと元に戻る**
   - 🔴 赤（コーナー）に戻る

---

## 🎨 点の操作方法

### **点をクリックして種類を変更**

1. **作図画面の点をクリック**
   - 赤 → 青 → 緑 → 赤...と循環

2. **用途に応じて選択**
   - 角：赤（コーナー）
   - 段差：青（エンド）+ 緑（壁）
   - 壁：緑（壁）

---

## 📊 計算結果の見方

### **芯寸法（計算結果）**
- 外法寸法から躯体幅を引いた値
- 実際の施工で使う寸法

### **表示内容**
```
辺A 緑━赤    4710 mm
辺B 赤━緑    3429 mm
```

- **緑━赤**: 始点が緑（壁）、終点が赤（コーナー）
- **4710 mm**: 計算された芯寸法

### **計算結果の図**
- 実寸法の比率で図形を表示
- 点の色で種類を確認
- 寸法が黄色い枠で表示

---

## 💾 保存・共有方法

### **📄 PDFで保存**
- 作図 + 入力 + 計算結果をPDFで保存
- ファイル名：`kutai-keisoku_2024-12-27.pdf`
- 印刷や記録に便利

### **🖼️ 画像で保存**
- PNG形式で画像として保存
- スマホのカメラロールに保存される
- 写真として管理できる

### **📤 共有**
- LINEやメールで直接共有
- 現場の同僚や上司に送れる
- iPhone Safariで動作確認済み

---

## 🔄 やり直し・クリア

### **↶ 戻る**
- 最後に引いた線を削除
- 何度でも戻れる

### **🗑️ クリア**
- 全ての作図をクリア
- 確認ダイアログが表示される
- パターンを選び直す場合に便利

### **✓ 作図終了**
- 自由作図の場合のみ
- 作図を完了して寸法入力へ

---

## 💡 使用例

### **例1：カーポート柱（I字）**

1. **I字パターンを選択**
2. **外法寸法を入力**: 5000mm
3. **躯体幅を入力**: 200mm
4. **躯体高さを入力**: 1000mm
5. **計算結果**: 4800mm

---

### **例2：L字の角（左L字）**

1. **左L字パターンを選択**
2. **辺A（縦）**: 1800mm
3. **辺B（横）**: 3520mm
4. **躯体幅**: 180mm
5. **躯体高さ**: 1000mm
6. **計算結果**:
   - 辺A: 1710mm（コーナーの半分を引く）
   - 辺B: 3430mm（コーナーの半分を引く）

---

### **例3：段差があるコの字**

1. **コの字パターンを選択**
2. **寸法を入力**
3. **「辺A〜辺Bの角に段差あり」にチェック**
4. **段差の深さを入力**: 50mm
5. **計算結果を確認**

---

## ⚠️ よくある質問

### **Q1: 点の色が変わらない**
**A:** 作図画面の点を直接クリックしてください。段差ありのチェックボックスとは別です。

---

### **Q2: 計算結果が表示されない**
**A:** 以下を確認してください：
- 外法寸法が入力されているか
- 躯体幅が入力されているか
- 躯体高さが入力されているか
- 段差ありにチェックした場合、深さが入力されているか

---

### **Q3: 共有ができない**
**A:** ブラウザによって動作が異なります：
- iPhone Safari: 正常に動作
- Android Chrome: 正常に動作
- PCブラウザ: 画像保存を使用してください

---

### **Q4: 作図した線を削除したい**
**A:** 「↶ 戻る」ボタンで最後の線から順番に削除できます。全部消したい場合は「🗑️ クリア」ボタンを使用してください。

---

### **Q5: 自由作図で線を引く方法は？**
**A:** 
1. 画面をクリックして点を配置
2. 次の点をクリックすると線が引かれる
3. 最後の点をクリックしてから「✓ 作図終了」

---

### **Q6: 計算結果の値が合わない**
**A:** 点の種類を確認してください：
- 赤（コーナー）: 隣接する辺の幅の半分を引く
- 青（エンド）: 何も引かない
- 緑（壁）: 何も引かない

コーナーの場合、両側の辺の幅の半分ずつ引かれるため、予想より小さくなります。

---

## 📞 サポート

このシステムは AS9 が開発・管理しています。

問題や改善要望がありましたら、GitHub Issues でお知らせください：
https://github.com/as9source/as9source.github.io/issues

---

## 📱 推奨環境

- iPhone Safari（最新版）
- Android Chrome（最新版）
- iPad Safari（最新版）
- PCブラウザ（Chrome, Edge, Safari）

---

## 🔄 バージョン情報

現在のバージョン: **v1.11.0**

最新のアップデート情報は GitHub をご確認ください：
https://github.com/as9source/as9source.github.io

---

**© 2024 AS9 - 躯体採寸システム**
